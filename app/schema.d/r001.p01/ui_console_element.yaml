ui_element:
    ############################################################
    - namespace: sys
      ui_name: console
      ui_ver: internal
      ui_element_name: /index
      ui_element_type: html
      ui_element_spec:
          entry: /Router
          title: Design Your Own Apps with App-X

    ############################################################
    - namespace: sys
      ui_name: console
      ui_ver: internal
      ui_element_name: /Router
      ui_element_type: react/component
      ui_element_spec:
          propTypes:
              title: PropTypes.string.isRequired
          styles:
              type: mui/style
              root:
                  height: "100%"
          element:
              type: react/element
              name: app-x/app/MUI_theme_redux
              props:
                  routes:
                      type: appx/route
                  redux_store_provider:
                      type: js/import
                      name: app-x/redux/store.default
                  theme_provider:
                      type: js/import
                      name: app-x/theme.default
                  not_found_view:
                      type: react/element
                      name: app-x/page/layout/HeaderLayout
                      props:
                          header:
                              type: react/element
                              name: app-x/page/header/Header_plain
                              props:
                                  title: App-X
                                  titleIcon:
                                      type: react/element
                                      name: "@material-ui/icons.ViewQuiltRounded"
                                  rootUrl: '/'
                                  baseUrl: '/'
                      children:
                          - type: react/element
                            name: app-x/view/error/NotFoundView

    ############################################################
    - namespace: sys
      ui_name: console
      ui_ver: internal
      ui_element_name: /page/landing/Home
      ui_element_type: react/component
      ui_element_spec:
          styles:
              type: mui/style
              grid:
                  position: fixed
                  bottom: "10%"
                  zIndex: 0
          effect:
              type: react/effect
              data: |+
                  // console.log(props)
          element:
              type: react/element
              name: app-x/page/landing/YouTube_fs
              props:
                  youtube_playlist:
                      - vid: 'vzR0dsZeQsY' # natural
                        start: 6
                        end: -1
                      - vid: 'HHBsvKnCkwI' # city
                        start: 0
                        end: -1
                      - vid: 'RQ18TpXxbzU' # flower
                        start: 6
                        end: -1
                      - vid: 'k5obtOZe4ZQ' # people
                        start: 0
                        end: 8
                      - vid: 'k5obtOZe4ZQ' # people
                        start: 47
                        end: 338
                      - vid: 'k5obtOZe4ZQ' # people
                        start: 375
                        end: 512
                      - vid: 'k5obtOZe4ZQ' # people
                        start: 554
                        end: 596
                      - vid: '_f43Gl_6hkc' # ocean waves
                        start: 0
                        end: -1
                      - vid: '-hcXR9aMTxI' # trees
                        start: 0
                        end: 135
                      - vid: 'wnhvanMdx4s' # space
                        start: 0
                        end: 103
                      - vid: 'wnhvanMdx4s' # space
                        start: 263
                        end: 336
                      - vid: 'xRFrjAVH1uQ' # scene
                        start: 18
                        end: 400
                      - vid: 'zRpazyH1WzI' # compilation
                        start: 0
                        end: 63
                      - vid: 'zRpazyH1WzI' # compilation
                        start: 99
                        end: 546
                      - vid: 'zRpazyH1WzI' # compilation
                        start: 1990
                        end: 2050
                      - vid: 'vOxmsqd8f58' # water drop
                        start: 0
              children:
                  - type: react/element
                    name: "@material-ui/core.Container"
                    props:
                        className:
                            type: js/expression
                            data: "styles.grid"
                    children:
                        - type: react/element
                          name: "@material-ui/core.Grid"
                          props:
                              container: true
                              spacing: 2
                          children:
                              - type: react/element
                                name: "@material-ui/core.CssBaseline"
                              - type: react/element
                                name: "@material-ui/core.Grid"
                                props:
                                    item: true
                                    xs: false
                                    sm: 1
                                    md: 1
                                    lg: 2
                                    xl: 3
                              - type: react/element
                                name: "@material-ui/core.Grid"
                                props:
                                    item: true
                                    xs: 12
                                    sm: 5
                                    md: 4
                                    lg: 3
                                    xl: 2
                                children:
                                    - type: react/element
                                      name: "@material-ui/core.Button"
                                      props:
                                          variant: contained
                                          color: primary
                                          fullWidth: true
                                          startIcon:
                                              type: react/element
                                              name: "@material-ui/icons.MenuBook"
                                          onClick:
                                              type: js/function
                                              body: "$r('app-x/router.navigate')('/docs')"
                                          size: large
                                      children:
                                          - "Getting Started"
                              - type: react/element
                                name: "@material-ui/core.Grid"
                                props:
                                    item: true
                                    xs: false
                                    md: 1
                                    lg: 1
                                    xl: 1
                              - type: react/element
                                name: "@material-ui/core.Grid"
                                props:
                                    item: true
                                    xs: false
                                    md: 1
                                    lg: 1
                                    xl: 1
                              - type: react/element
                                name: "@material-ui/core.Grid"
                                props:
                                    item: true
                                    xs: 12
                                    sm: 5
                                    md: 4
                                    lg: 3
                                    xl: 2
                                children:
                                    - type: react/element
                                      name: "@material-ui/core.Button"
                                      props:
                                          variant: contained
                                          color: primary
                                          fullWidth: true
                                          startIcon:
                                              type: react/element
                                              name: "@material-ui/icons.Slideshow"
                                          onClick:
                                              type: js/function
                                              body: "$r('app-x/router.navigate')('/console')"
                                          size: large
                                      children:
                                          - "Live Demo"
                              - type: react/element
                                name: "@material-ui/core.Grid"
                                props:
                                    item: true
                                    xs: false
                                    sm: 1
                                    md: 1
                                    lg: 2
                                    xl: 3

    ############################################################
    - namespace: sys
      ui_name: console
      ui_ver: internal
      ui_element_name: /page/landing/Unsplash_bg
      ui_element_type: react/component
      ui_element_spec:
          styles:
              type: mui/style
              root:
                  height: "100%"
          element:
              type: react/element
              name: app-x/page/landing/Unsplash_bg
              props:
                  unsplashCollections:
                      - 542909          # snow ice and winter
                      - 1922729         # beautiful shots from above
                      - 852718          # vibrant blackouts (oled)
                      - 562095          # wilderness artifacts
                      - 1023843         # tiny people in a big world
                      - 543765          # metro
                      - 148982          # mountain majesty
                      - 349521          # road-to nowhere
                      - 427860          # view angle
                      - 353649          # sea me now
              children:
                  - type: js/expression
                    data: props.children

    ############################################################
    - namespace: sys
      ui_name: console
      ui_ver: internal
      ui_element_name: /page/auth/Login
      ui_element_type: react/component
      ui_element_spec:
          styles:
              type: mui/style
              root:
                  height: "100%"
          element:
              type: react/element
              name: self/page/landing/Unsplash_bg
              children:
                  - type: react/element
                    name: self/page/auth/SignInForm
                    props:
                        consoleUrl: /console


    ############################################################
    - namespace: sys
      ui_name: console
      ui_ver: internal
      ui_element_name: /page/auth/SignInForm
      ui_element_type: react/component
      ui_element_spec:
          propTypes:
              consoleUrl: PropTypes.string.isRequired
          styles:
              type: mui/style
              paper:
                  position: fixed
                  top: 0
                  right: 0
                  width: 432
                  margin:
                      type: js/expression
                      data: theme.spacing(12, 3)
                  padding:
                      type: js/expression
                      data: theme.spacing(6, 3)
                  display: flex
                  flexDirection: column
                  alignItems: center
                  backgroundColor:
                      type: js/expression
                      data: theme.palette.background.paper
                  color:
                      type: js/expression
                      data: theme.palette.text.main
              facebook:
                  backgroundColor: '#4267B2'
              google:
                  backgroundColor: '#DB4437'
              avatar:
                margin:
                    type: js/expression
                    data: theme.spacing(1)
                backgroundColor:
                    type: js/expression
                    data: theme.palette.secondary.main
              line:
                margin:
                    type: js/expression
                    data: theme.spacing(1)
              error:
                margin:
                    type: js/expression
                    data: theme.spacing(1)
                color:
                    type: js/expression
                    data: theme.palette.text.error
              button:
                margin:
                    type: js/expression
                    data: theme.spacing(1)
              form:
                width: '100%'  # Fix IE 11 issue.
                margin:
                    type: js/expression
                    data: theme.spacing(1)
              grid:
                margin:
                    type: js/expression
                    data: theme.spacing(2, 0, 2)
              submit:
                margin:
                    type: js/expression
                    data: theme.spacing(2, 0, 2)
          states:
              username:
                  type: react/state
                  name: value
                  setter: setValue
                  init: ''
              password:
                  type: react/state
                  name: value
                  setter: setValue
                  init: ''
              error:
                  type: react/state
                  name: value
                  setter: setValue
                  init: ''
          handlers:
              handleSubmit:
                  type: js/function
                  params:
                      - event
                  body: |
                      event.preventDefault()
                      $r('app-x/api.login')(
                          'main',
                          states.username.value,
                          states.password.value,
                          res => {
                              // console.log(res)
                              Object.keys(globalThis.appx.API_MAPS).map(namespace => {
                                  Object.keys(globalThis.appx.API_MAPS[namespace]).map(app_name => {
                                      if ('deployment' in globalThis.appx.API_MAPS[namespace][app_name]) {
                                          // console.log(namespace, app_name)
                                          $r('app-x/api.me')(
                                              namespace,
                                              app_name
                                          )
                                      }
                                  })
                              })
                              $r('app-x/router.navigate')(props.consoleUrl)
                          },
                          err => {
                              // TODO
                              // console.log(err)
                              states.error.setValue(err.message)
                          }
                      )
          element:
              type: react/element
              name: '@material-ui/core.Container'
              props:
                  className:
                      type: js/expression
                      data: styles.paper
              children:
                  - type: react/element
                    name: '@material-ui/core.Avatar'
                    props:
                        className:
                            type: js/expression
                            data: styles.avatar
                    children:
                        - type: react/element
                          name: '@material-ui/icons.ViewQuiltRounded'
                  - type: react/element
                    name: '@material-ui/core.Typography'
                    props:
                        component: h1
                        variant: h6
                        className:
                            type: js/expression
                            data: styles.line
                    children:
                        - Sign in to App-X
                  - type: react/element
                    name: '@material-ui/core.Grid'
                    props:
                        container: true
                        spacing: 2
                        className:
                            type: js/expression
                            data: styles.grid
                    children:
                        - type: react/element
                          name: '@material-ui/core.Grid'
                          props:
                              item: true
                              xs: 12
                          children:
                              - type: react/element
                                name: '@material-ui/core.Button'
                                props:
                                    color: primary
                                    className:
                                        type: js/expression
                                        data: styles.facebook
                                    fullWidth: true
                                    startIcon:
                                        type: react/element
                                        name: 'app-x/icon/Facebook'
                                    onClick:
                                        type: js/expression
                                        data: handlers.handleSubmit
                                    size: large
                                    variant: contained
                                children:
                                    - Login with Facebook
                        - type: react/element
                          name: '@material-ui/core.Grid'
                          props:
                              item: true
                              xs: 12
                          children:
                              - type: react/element
                                name: '@material-ui/core.Button'
                                props:
                                    color: primary
                                    className:
                                        type: js/expression
                                        data: styles.google
                                    fullWidth: true
                                    startIcon:
                                        type: react/element
                                        name: 'app-x/icon/Google'
                                    onClick:
                                        type: js/expression
                                        data: handlers.handleSubmit
                                    size: large
                                    variant: contained
                                children:
                                    - Login with Google
                  - type: react/html
                    name: 'form'
                    props:
                        className:
                            type: js/expression
                            data: styles.form
                        onSubmit:
                            type: js/expression
                            data: handlers.handleSubmit
                        noValidate: true
                    children:
                        - type: react/element
                          name: '@material-ui/core.TextField'
                          props:
                              variant: outlined
                              margin: normal
                              required: true
                              fullWidth: true
                              id: username
                              label: Login
                              autoComplete: username
                              autoFocus: true
                              value:
                                  type: js/expression
                                  data: states.username.value
                              onChange:
                                  type: js/function
                                  params:
                                      - e
                                  body: |
                                      states.username.setValue(e.target.value)
                                      states.error.setValue('')
                        - type: react/element
                          name: '@material-ui/core.TextField'
                          props:
                              variant: outlined
                              margin: normal
                              required: true
                              fullWidth: true
                              id: password
                              label: Password
                              type: password
                              autoComplete: current-password
                              value:
                                  type: js/expression
                                  data: states.password.value
                              onChange:
                                  type: js/function
                                  params:
                                      - e
                                  body: |
                                      states.password.setValue(e.target.value)
                                      states.error.setValue('')
                        - type: js/switch
                          default: null
                          children:
                              - condition: states.error.value
                                result:
                                    type: react/element
                                    name: '@material-ui/core.Grid'
                                    props:
                                        item: true
                                        xs: 12
                                    children:
                                        - type: react/element
                                          name: '@material-ui/core.Typography'
                                          props:
                                              component: h1
                                              variant: subtitle1
                                              className:
                                                  type: js/expression
                                                  data: styles.error
                                          children:
                                              - type: js/expression
                                                data: states.error.value
                        - type: react/element
                          name: '@material-ui/core.Button'
                          props:
                              type: submit
                              onClick:
                                  type: js/expression
                                  data: handlers.handleSubmit
                              fullWidth: true
                              variant: contained
                              color: primary
                              size: large
                              className:
                                  type: js/expression
                                  data: styles.submit
                          children:
                              - Sign In
                        - type: react/element
                          name: '@material-ui/core.Box'
                          props:
                              mt: 5
                          children:
                              - type: react/element
                                name: '@material-ui/core.Typography'
                                props:
                                    variant: body2
                                    color: textSecondary
                                    align: center
                                children:
                                    - 'Copyright © app-x.org '
                                    - type: js/expression
                                      data: new Date().getFullYear()

    ############################################################
    - namespace: sys
      ui_name: console
      ui_ver: internal
      ui_element_name: /page/Console
      ui_element_type: react/component
      ui_element_spec:
          styles:
              type: mui/style
              container:
                  # width: 100%
                  # alignItems: center
                  # display: flex
                  # justifyContent: center
              box:
                  display: flex
                  # flexShrink: 1
                  # flexDirection: row
                  flexWrap: wrap
                  justifyContent: space-evenly
                  padding:
                      type: js/expression
                      data: theme.spacing(4, 2)
              card:
                  width: 360
                  minWidth: 360
                  maxWidth: 360
                  zIndex: 0
                  margin:
                      type: js/expression
                      data: theme.spacing(3, 2)
                  backgroundColor:
                      type: js/expression
                      data: theme.palette.background.paper
              cardContent:
                  margin:
                      type: js/expression
                      data: theme.spacing(1)
              avatar:
                  backgroundColor:
                      type: js/expression
                      data: theme.palette.secondary.main
                  margin:
                      type: js/expression
                      data: theme.spacing(1)
          states:
              ui:
                  type: react/state
                  name: deployments
                  setter: setDeployments
                  init: []
          effect:
              type: react/effect
              data: |
                  $r('app-x/api.get')(
                      'sys',
                      'appx',
                      '/ui/ui_deployment',
                      data => {
                          states.ui.setDeployments(data)
                      },
                      err => {
                          console.log(err)
                          // TODO
                      }
                  )
          element:
              type: react/element
              name: self/page/landing/Unsplash_bg
              children:
                  - type: react/element
                    name: '@material-ui/core.Container'
                    props:
                        className:
                            type: js/expression
                            data: styles.container
                    children:
                        - type: react/element
                          name: '@material-ui/core.Box'
                          props:
                              className:
                                  type: js/expression
                                  data: styles.box
                          children:
                              - type: js/map
                                data:
                                    type: js/filter
                                    data:
                                        type: js/expression
                                        data: states.ui.deployments
                                    filter: |
                                        !(item.namespace == 'sys' && item.ui_name == 'console')
                                result:
                                    type: react/element
                                    name: '@material-ui/core.Card'
                                    props:
                                        draggable: true
                                        style:
                                            cursor: move
                                        key:
                                            type: js/expression
                                            data: item.id
                                        className:
                                            type: js/expression
                                            data: styles.card
                                    children:
                                        - type: react/element
                                          name: '@material-ui/core.CardActionArea'
                                          children:
                                              - type: react/element
                                                name: app-x/router.HLink
                                                props:
                                                    namespace:
                                                        type: js/expression
                                                        data: item.namespace
                                                    ui_name:
                                                        type: js/expression
                                                        data: item.ui_name
                                                    ui_deployment:
                                                        type: js/expression
                                                        data: item.ui_deployment
                                                    href: '/'
                                                children:
                                                    - type: react/element
                                                      name: '@material-ui/core.CardContent'
                                                      children:
                                                          - type: react/element
                                                            name: '@material-ui/core.Avatar'
                                                            props:
                                                                className:
                                                                    type: js/expression
                                                                    data: styles.avatar
                                                            children:
                                                                - type: react/element
                                                                  name: '@material-ui/icons.ViewQuiltRounded'
                                                          - type: react/element
                                                            name: '@material-ui/core.Typography'
                                                            props:
                                                                variant: body2
                                                                className:
                                                                    type: js/expression
                                                                    data: styles.cardContent
                                                            children:
                                                                - type: js/expression
                                                                  data: item.namespace
                                                                - ' / '
                                                                - type: js/expression
                                                                  data: item.ui_name
                                                                - ' / '
                                                                - type: js/expression
                                                                  data: item.ui_deployment
                                                          - type: react/element
                                                            name: '@material-ui/core.Typography'
                                                            props:
                                                                variant: h6
                                                                className:
                                                                    type: js/expression
                                                                    data: styles.cardContent
                                                            children:
                                                                - type: js/expression
                                                                  data: item.ui_spec.description
                                        - type: react/element
                                          name: '@material-ui/core.CardActions'
                                          children:
                                              - type: react/element
                                                name: '@material-ui/core.Button'
                                                props:
                                                    size: small
                                                    color: primary
                                                    # variant: contained
                                                    className:
                                                        type: js/expression
                                                        data: styles.cardContent
                                                children:
                                                    - Details
