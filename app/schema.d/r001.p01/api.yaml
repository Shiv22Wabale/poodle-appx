# api
api:
    ######################################################################
    # namespace
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "namespace"
      api_method: "get"
      api_endpoint: "/namespace"
      api_spec:
          permission: "app.read"
          syntax:
              # SELECT * FROM appx.namespace LEFT JOIN appx.namespace_status ON namespace.namespace = namespace_status.namespace
              verb: "get"
              join:
                  - obj: "namespace_status"
                    type: "left"
          doc:
              desc: "list namespaces"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "namespace"
      api_method: "get"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.read"
          syntax:
              # SELECT * FROM appx.namespace LEFT JOIN appx.namespace_status ON namespace.namespace = namespace_status.namespace WHERE namespace=:namespace
              verb: "get"
              join:
                  - obj: "namespace_status"
                    type: "left"
          doc:
              desc: "get namespace for :namespace"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "namespace"
      api_method: "post"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.write"
          syntax:
              # INSERT INTO appx.namespace (namespace, namespace_spec) VALUES (:namespace, body.namespace_spec) ON DUPLICATE KEY UPDATE namespace_spec = VALUES(namespace_spec)
              verb: "upsert"
          doc:
              desc: "upsert namespace for :namespace"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "namespace"
      api_method: "put"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.write"
          syntax:
              # UPDATE appx.namespace SET namespace_spec = :body.namespace_spec WHERE namespace = :namespace
              verb: "update"
          doc:
              desc: "update namespace for :namespace"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "namespace"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.write"
          syntax:
              # UPDATE appx.namespace SET namespace_spec = JSON_MERGE_PATCH(namespace_spec, :body.namespace_spec) WHERE namespace = :namespace
              verb: "patch"
          doc:
              desc: "patch namespace for :namespace"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "namespace"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.write"
          syntax:
              # UPDATE appx.namespace SET deleted=1 WHERE namespace = :namespace
              verb: "delete"
          doc:
              desc: "delete namespace for :namespace (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "namespace_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/status"
      api_spec:
          permission: "app.status"
          syntax:
              # INSERT INTO appx.namespace_status (namespace, namespace_status) VALUES (:namespace, body.namespace_status) ON DUPLICATE KEY UPDATE namespace_status = VALUES(namespace_status)
              verb: "status"
          doc:
              desc: "post namespace status for :namespace"

    ######################################################################
    # app
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "namespace"
                  - obj: "app_status"
                    type: "left"
          doc:
              desc: "list apps for :namespace"
    # list by :app_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "namespace"
                  - obj: "app_status"
                    type: "left"
          doc:
              desc: "list apps for :namespace / :app_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "namespace"
                  - obj: "app_status"
                    type: "left"
          doc:
              desc: "get app for :namespace / :app_name / :app_ver"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert app for :namespace / :app_name / :app_ver"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update app for :namespace / :app_name / :app_ver"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch app for :namespace / :app_name / :app_ver"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete app for :namespace / :app_name / :app_ver (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post app status for :namespace / :app_name / :app_ver"

    ######################################################################
    # app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_runtime_status"
                    type: "left"
          doc:
              desc: "list app_runtimes for :namespace"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_runtime_status"
                    type: "left"
          doc:
              desc: "get app_runtime for :namespace / :app_name"
    # get
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime/runtime/:app_runtime"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_runtime_status"
                    type: "left"
          doc:
              desc: "get app_runtime for :namespace / :app_runtime"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_runtime_status"
                    type: "left"
          doc:
              desc: "get app_runtime for :namespace / :app_name / :app_runtime"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert app_runtime for :namespace / :app_name / :app_runtime"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update app_runtime for :namespace / :app_name / :app_runtime"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch app_runtime for :namespace / :app_name / :app_runtime"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete app_runtime for :namespace / :app_name / :app_runtime (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_runtime_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post app_runtime status for :namespace / :app_name / :app_runtime"

    ######################################################################
    # app_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_runtime"
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_deployment_status"
                    type: "left"
          doc:
              desc: "list app_deployments for :namespace"
    # list by :app_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_runtime"
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_deployment_status"
                    type: "left"
          doc:
              desc: "list app_deployments for :namespace / :app_name"
    # list by :app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/runtime/:app_runtime"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_runtime"
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_deployment_status"
                    type: "left"
          doc:
              desc: "list app_deployments for :namespace / :app_runtime"
    # list by :app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/deployment/:app_deployment"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_runtime"
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_deployment_status"
                    type: "left"
          doc:
              desc: "list app_deployments for :namespace / :app_deployment"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/runtime/:app_runtime/deployment/:app_deployment"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_runtime"
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "app_deployment_status"
                    type: "left"
          doc:
              desc: "get app_deployment for :namespace / :app_name / :app_runtime / :app_deployment"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/runtime/:app_runtime/deployment/:app_deployment"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert app_deployment for :namespace / :app_name / :app_runtime / :app_deployment"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/runtime/:app_runtime/deployment/:app_deployment"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update app_deployment for :namespace / :app_name / :app_runtime / :app_deployment"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/runtime/:app_runtime/deployment/:app_deployment"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch app_deployment for :namespace / :app_name / :app_runtime / :app_deployment"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/runtime/:app_runtime/deployment/:app_deployment"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete app_deployment for :namespace / :app_name / :app_runtime / :app_deployment (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "app_deployment_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/runtime/:app_runtime/deployment/:app_deployment/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post app_deployment status for :namespace / :app_name / :app_runtime / :app_deployment"

    ######################################################################
    # obj
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list objs for :namespace / :app_name / :app_ver"
    # get by app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime/obj"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_runtime"
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "obj_status"
                    type: "left"
          doc:
              desc: "get app_runtime obj for :namespace / :app_name / :app_runtime"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get obj for :namespace / :app_name / :app_ver / :obj_name"
    # get by app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime/obj/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_runtime"
                  - obj: "app"
                  - obj: "namespace"
                  - obj: "obj_status"
                    type: "left"
          doc:
              desc: "get app_runtime obj for :namespace / :app_name / :app_runtime / :obj_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert obj for :namespace / :app_name / :app_ver / :obj_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update obj for :namespace / :app_name / :app_ver / :obj_name"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch obj for :namespace / :app_name / :app_ver / :obj_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete obj for :namespace / :app_name / :app_ver / :obj_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "obj_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime/obj/:obj_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post obj status for :namespace / :app_name / :app_runtime / :obj_name"

    ######################################################################
    # attr
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list attrs for :namespace / :app_name / :app_ver / :obj_name"
    # list by app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime/obj/:obj_name/attr"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "namespace"
                  - obj: "attr_status"
                    type: "left"
          doc:
              desc: "list app_deployment attrs for :namespace / :app_name / :app_runtime / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name"
    # get by app_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "namespace"
                  - obj: "attr_status"
                    type: "left"
          doc:
              desc: "get app_deployment attr for :namespace / :app_name / :app_runtime / :obj_name / :attr_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "attr_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_runtime/app/:app_name/runtime/:app_runtime/obj/:obj_name/attr/:attr_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post attr status for :namespace / :app_name / :app_runtime / :obj_name / :attr_name"

    ######################################################################
    # relation
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list relations for :namespace / :app_name / :app_ver"
    # list by app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_runtime/:app_deployment/relation"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "app_deployment"
                  - obj: "namespace"
                  - obj: "relation_status"
                    type: "left"
          doc:
              desc: "list app_runtime relations for :namespace / :app_name / :app_runtime / :app_deployment"
    # list
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list relations for :namespace / :app_name / :app_ver / :obj_name"
    # list by app_runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_runtime/:app_deployment/relation/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "app_deployment"
                  - obj: "namespace"
                  - obj: "relation_status"
                    type: "left"
          doc:
              desc: "list app_runtime relations for :namespace / :app_name / :app_runtime / :app_deployment / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name"
    # get by app_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_runtime/:app_deployment/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "app_deployment"
                  - obj: "namespace"
                  - obj: "relation_status"
                    type: "left"
          doc:
              desc: "get app_runtime relation for :namespace / :app_name / :app_runtime / :app_deployment / :obj_name / :objn_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "relation_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_runtime/:app_deployment/relation/:obj_name/:objn_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post relation status for :namespace / :app_name / :app_runtime / :app_deployment / :obj_name / :objn_name"

    ######################################################################
    # api
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/api"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list apis for :namespace / :app_name / :app_ver"
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list apis for :namespace / :app_name / :app_ver / :obj_name"
    # list by app_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_deployment/api"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "app_deployment"
                  - obj: "namespace"
                  - obj: "api_status"
                    type: "left"
          doc:
              desc: "list app_deployment apis for :namespace / :app_name / :app_deployment"
    # list by app_deployment and obj_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_deployment/obj/:obj_name/api"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "app_deployment"
                  - obj: "namespace"
                  - obj: "api_status"
                    type: "left"
          doc:
              desc: "list app_deployment apis for :namespace / :app_name / :app_deployment / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"
    # get by app_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_runtime/:app_deployment/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "app_runtime"
                  - obj: "namespace"
                  - obj: "api_status"
                    type: "left"
          doc:
              desc: "get app_deployment api for :namespace / :app_name / :app_runtime / :app_deployment / :obj_name / :api_method / :api_endpoint"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "api_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app_deployment/app/:app_name/deployment/:app_runtime/:app_deployment/obj/:obj_name/api/:api_method/:api_endpoint/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post api status for :namespace / :app_name / :app_runtime / :app_deployment / :obj_name / :api_method / :api_endpoint"

    ######################################################################
    # transform
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "transform"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list transforms for :namespace / :app_name / :app_ver / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "transform"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "transform"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "transform"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "transform"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "transform"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "transform_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post transform status for :namespace / :app_name / :app_ver / :obj_name / :transform_name"

    ######################################################################
    # ui
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "get"
      api_endpoint: "/ui/ui_app"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "namespace"
                  - obj: "ui_status"
                    type: "left"
          doc:
              desc: "list all uis"
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "namespace"
                  - obj: "ui_status"
                    type: "left"
          doc:
              desc: "list uis for :namespace"
    # list by :app_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui/:ui_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "namespace"
                  - obj: "ui_status"
                    type: "left"
          doc:
              desc: "list uis for :namespace / :ui_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "namespace"
                  - obj: "ui_status"
                    type: "left"
          doc:
              desc: "get ui for :namespace / :ui_name / :ui_ver"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert ui for :namespace / :ui_name / :ui_ver"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "update"
          doc:
              desc: "update ui for :namespace / :ui_name / :ui_ver"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch ui for :namespace / :ui_name / :ui_ver"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete app for :namespace / :ui_name / :ui_ver (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/status"
      api_spec:
          permission: "ui.status"
          syntax:
              verb: "status"
          doc:
              desc: "post ui status for :namespace / :ui_name / :ui_ver"

    ######################################################################
    # ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/ui/ui_deployment"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
                  - obj: "ui_deployment_status"
                    type: "left"
          doc:
              desc: "list all ui_deployments"
    # list by :namespace
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
                  - obj: "ui_deployment_status"
                    type: "left"
          doc:
              desc: "list ui_deployment for :namespace"
    # list by :ui_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
                  - obj: "ui_deployment_status"
                    type: "left"
          doc:
              desc: "list ui_deployment for :namespace / :ui_name"
    # list by ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/deployment/:ui_deployment"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
                  - obj: "ui_deployment_status"
                    type: "left"
          doc:
              desc: "list ui_deployments for :namespace / :ui_deployment"
    # get by ui_name and ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
                  - obj: "ui_deployment_status"
                    type: "left"
          doc:
              desc: "get ui_deployment for :namespace / :ui_name / :ui_deployment"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert ui_deployment for :namespace / :ui_name / :ui_deployment"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "update"
          doc:
              desc: "update ui_deployment for :namespace / :ui_name / :ui_deployment"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "patch"
          doc:
              desc: "patch ui_deployment for :namespace / :ui_name / :ui_deployment"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete ui_deployment for :namespace / :ui_name / :ui_deployment (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_deployment_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment/status"
      api_spec:
          permission: "ui.status"
          syntax:
              verb: "status"
          doc:
              desc: "post ui_deployment status for :namespace / :ui_name / :ui_deployment"

    ######################################################################
    # ui_component
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_component"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
          doc:
              desc: "list ui_components for :namespace / :ui_name / :ui_ver"
    # list by ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment/ui_component"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "ui_deployment"
                  - obj: "namespace"
                  - obj: "ui_component_status"
                    type: "left"
          doc:
              desc: "list ui_deployment of ui_components for :namespace / :ui_deployment"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_component/:ui_component_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
          doc:
              desc: "get obj for :namespace / :ui_name / :ui_ver / :ui_component_name"
    # get by ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment/ui_component/:ui_component_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "ui_deployment"
                  - obj: "namespace"
                  - obj: "ui_component_status"
                    type: "left"
          doc:
              desc: "get ui_component for :namespace / :ui_name / :ui_ver / :app_runtime / :ui_component_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_component/:ui_component_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "upsert"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_component"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
                  - "$invoke":
                      module: "../ui/ui_dispatcher"
                      method: "refresh_ui_router"
                      params:
                        - "$dp.namespace"
                        - "$dp.ui_name"
                        - "@dp"
          doc:
              desc: "upsert ui_component for :namespace / :ui_name / :ui_ver / :ui_component_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_component/:ui_component_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "update"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_component"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
          doc:
              desc: "update ui_component for :namespace / :ui_name / :ui_ver / :ui_component_name"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_component/:ui_component_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "patch"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_component"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
          doc:
              desc: "patch ui_component for :namespace / :ui_name / :ui_ver / :ui_component_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_component/:ui_component_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "delete"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_component"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
                  - "$invoke":
                      module: "../ui/ui_dispatcher"
                      method: "refresh_ui_router"
                      params:
                        - "$dp.namespace"
                        - "$dp.ui_name"
                        - "@dp"
          doc:
              desc: "delete ui_component for :namespace / :ui_name / :ui_ver / :ui_component_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_component_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment/ui_component/:ui_component_name/status"
      api_spec:
          permission: "ui.status"
          syntax:
              verb: "status"
          doc:
              desc: "post ui_component status for :namespace / :ui_name / :ui_deployment / :ui_component_name"

    ######################################################################
    # ui_route
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_route"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
          doc:
              desc: "list ui_route for :namespace / :ui_name / :ui_ver"
    # list by ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment/ui_route"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "ui_deployment"
                  - obj: "namespace"
                  - obj: "ui_route_status"
                    type: "left"
          doc:
              desc: "list ui_deployment of ui_components for :namespace / :ui_name / :ui_deployment"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_route/:ui_route_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "namespace"
          doc:
              desc: "get obj for :namespace / :ui_name / :ui_ver / :ui_route_name"
    # get by ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment/ui_route/:ui_route_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui"
                  - obj: "ui_deployment"
                  - obj: "namespace"
                  - obj: "ui_route_status"
                    type: "left"
          doc:
              desc: "get ui_component for :namespace / :ui_name / :ui_ver / :ui_deployment / :ui_route_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_route/:ui_route_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "upsert"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_route"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
                  - "$invoke":
                      module: "../ui/ui_dispatcher"
                      method: "refresh_ui_router"
                      params:
                        - "$dp.namespace"
                        - "$dp.ui_name"
                        - "@dp"
          doc:
              desc: "upsert ui_route for :namespace / :ui_name / :ui_ver / :ui_route_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_route/:ui_route_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "update"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_route"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
          doc:
              desc: "update ui_route for :namespace / :ui_name / :ui_ver / :ui_route_name"
    # patch
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "patch"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_route/:ui_route_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "patch"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_route"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
          doc:
              desc: "patch ui_route for :namespace / :ui_name / :ui_ver / :ui_route_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/ui/:ui_name/:ui_ver/ui_route/:ui_route_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "delete"
              trigger:
                "#dp{$cache['ui_deployment'][$params.namespace]['uis'][$params.ui_name][$params.ui_ver]}":
                  - "$invoke":
                      module: "../cache/cache"
                      method: "load_cache_for"
                      params:
                        - '"ui_route"'
                        - namespace: "$dp.namespace"
                          ui_name: "$dp.ui_name"
                          ui_deployment: "@dp"
                  - "$invoke":
                      module: "../ui/ui_dispatcher"
                      method: "refresh_ui_router"
                      params:
                        - "$dp.namespace"
                        - "$dp.ui_name"
                        - "@dp"
          doc:
              desc: "delete ui_route for :namespace / :ui_name / :ui_ver / :ui_route_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      app_rev: "default"
      obj_name: "ui_route_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui/:ui_name/deployment/:ui_deployment/ui_route/:ui_route_name/status"
      api_spec:
          permission: "ui.status"
          syntax:
              verb: "status"
          doc:
              desc: "post ui_route status for :namespace / :ui_name / :ui_deployment / :ui_route_name"
