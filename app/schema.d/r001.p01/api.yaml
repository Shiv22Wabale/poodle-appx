# api
api:
    ######################################################################
    # namespace
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "namespace"
      api_method: "get"
      api_endpoint: "/namespace"
      api_spec:
          permission: "app.read"
          syntax:
              # SELECT * FROM appx.namespace LEFT JOIN appx.namespace_status ON namespace.namespace = namespace_status.namespace
              verb: "get"
              join:
                  - obj: "namespace_status"
                    type: "left"
          doc:
              desc: "list namespaces"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "namespace"
      api_method: "get"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.read"
          syntax:
              # SELECT * FROM appx.namespace LEFT JOIN appx.namespace_status ON namespace.namespace = namespace_status.namespace WHERE namespace=:namespace
              verb: "get"
              join:
                  - obj: "namespace_status"
                    type: "left"
          doc:
              desc: "get namespace for :namespace"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "namespace"
      api_method: "post"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.write"
          syntax:
              # INSERT INTO appx.namespace (namespace, namespace_spec) VALUES (:namespace, body.namespace_spec) ON DUPLICATE KEY UPDATE namespace_spec = VALUES(namespace_spec)
              verb: "upsert"
          doc:
              desc: "upsert namespace for :namespace"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "namespace"
      api_method: "put"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.write"
          syntax:
              # UPDATE appx.namespace SET namespace_spec = :body.namespace_spec WHERE namespace = :namespace
              verb: "update"
          doc:
              desc: "update namespace for :namespace"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "namespace"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace"
      api_spec:
          permission: "app.write"
          syntax:
              # UPDATE appx.namespace SET deleted=1 WHERE namespace = :namespace
              verb: "delete"
          doc:
              desc: "delete namespace for :namespace (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "namespace_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/status"
      api_spec:
          permission: "app.status"
          syntax:
              # INSERT INTO appx.namespace_status (namespace, namespace_status) VALUES (:namespace, body.namespace_status) ON DUPLICATE KEY UPDATE namespace_status = VALUES(namespace_status)
              verb: "status"
          doc:
              desc: "post namespace status for :namespace"

    ######################################################################
    # app
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "list apps for :namespace"
    # list by :app_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "list apps for :namespace / :app_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "get app for :namespace / :app_name / :app_ver"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "app"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert app for :namespace / :app_name / :app_ver"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "app"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update app for :namespace / :app_name / :app_ver"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "app"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete app for :namespace / :app_name / :app_ver (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "app_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post app status for :namespace / :app_name / :app_ver"

    ######################################################################
    # runtime
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "runtime"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/runtime"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "runtime_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "list runtimes for :namespace"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "runtime"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/runtime/:runtime_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "runtime_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "get runtime for :namespace / :runtime_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "runtime"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/runtime/:runtime_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert runtime for :namespace / :runtime_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "runtime"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/runtime/:runtime_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update runtime for :namespace / :runtime_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "runtime"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/runtime/:runtime_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete runtime for :namespace / :runtime_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "runtime_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/runtime/:runtime_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post runtime status for :namespace / :runtime_name"

    ######################################################################
    # deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "deployment_status"
                    type: "left"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list deployments for :namespace"
    # list by :app_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "deployment_status"
                    type: "left"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list deployments for :namespace / :app_name"
    # list by :runtime_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/runtime/:runtime_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "deployment_status"
                    type: "left"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list deployments for :namespace / :runtime_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "deployment_status"
                    type: "left"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get deployment for :namespace / :runtime_name / :app_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert deployment for :namespace / :runtime_name / :app_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update deployment for :namespace / :runtime_name / :app_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete deployment for :namespace / :runtime_name / :app_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "deployment_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post deployment status for :namespace / :runtime_name / :app_name"

    ######################################################################
    # obj
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list objs for :namespace / :app_name / :app_ver"
    # list by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj_status"
                    type: "left"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list deployment objs for :namespace / :runtime_name / :app_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get obj for :namespace / :app_name / :app_ver / :obj_name"
    # get by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj_status"
                    type: "left"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get deployment obj for :namespace / :runtime_name / :app_name / :obj_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert obj for :namespace / :app_name / :app_ver / :obj_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update obj for :namespace / :app_name / :app_ver / :obj_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete obj for :namespace / :app_name / :app_ver / :obj_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "obj_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post obj status for :namespace / :runtime_name / :app_name / :obj_name"

    ######################################################################
    # relation
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list relations for :namespace / :app_name / :app_ver"
    # list by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/relation"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "relation_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "list deployment relations for :namespace / :runtime_name / :app_name"
    # list
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list relations for :namespace / :app_name / :app_ver / :obj_name"
    # list by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/relation/:obj_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "relation_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "list deployment relations for :namespace / :runtime_name / :app_name / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name"
    # get by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "relation_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "get deployment relation for :namespace / :runtime_name / :app_name / :obj_name / :objn_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/relation/:obj_name/:objn_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete relation for :namespace / :app_name / :app_ver / :obj_name / :objn_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "relation_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/relation/:obj_name/:objn_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post relation status for :namespace / :app_name / :app_ver / :obj_name / :objn_name"

    ######################################################################
    # attr
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list attrs for :namespace / :app_name / :app_ver / :obj_name"
    # list by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/attr"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "attr_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "list deployment attrs for :namespace / :runtime_name / :app_name / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name"
    # get by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "attr_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "get deployment attr for :namespace / :runtime_name / :app_name / :obj_name / :attr_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/attr/:attr_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete attr for :namespace / :app_name / :app_ver / :obj_name / :attr_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "attr_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/attr/:attr_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post attr status for :namespace / :app_name / :app_ver / :obj_name / :attr_name"

    ######################################################################
    # api
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list apis for :namespace / :app_name / :app_ver / :obj_name"
    # list by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/api"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "api_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "list deployment apis for :namespace / :runtime_name / :app_name / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"
    # get by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "api_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "get deployment api for :namespace / :runtime_name / :app_name / :obj_name / :api_method / :api_endpoint"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/api/:api_method/:api_endpoint"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete api for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "api_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/api/:api_method/:api_endpoint/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post api status for :namespace / :app_name / :app_ver / :obj_name / :api_method / :api_endpoint"

    ######################################################################
    # transform
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list transforms for :namespace / :app_name / :app_ver / :obj_name"
    # list by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/transform"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "attr_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "list deployment transforms for :namespace / :runtime_name / :app_name / :obj_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "obj"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name"
    # get by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.read"
          syntax:
              verb: "get"
              join:
                  - obj: "attr_status"
                    type: "left"
                  - obj: "obj"
                  - obj: "app"
                  - obj: "runtime"
                  - obj: "namespace"
          doc:
              desc: "get deployment transform for :namespace / :runtime_name / :app_name / :obj_name / :transform_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "update"
          doc:
              desc: "update transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/app/:app_name/:app_ver/obj/:obj_name/transform/:transform_name"
      api_spec:
          permission: "app.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete transform for :namespace / :app_name / :app_ver / :obj_name / :transform_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "transform_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/deployment/app/:app_name/runtime/:runtime_name/obj/:obj_name/transform/:transform_name/status"
      api_spec:
          permission: "app.status"
          syntax:
              verb: "status"
          doc:
              desc: "post transform status for :namespace / :app_name / :app_ver / :obj_name / :transform_name"

    ######################################################################
    # ui_app
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_app"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_app_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "list ui_apps for :namespace"
    # list by :app_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_app_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "list ui_apps for :namespace / :app_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_app"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_app_status"
                    type: "left"
                  - obj: "namespace"
          doc:
              desc: "get ui_app for :namespace / :app_name / :ui_app_ver"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_app"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert ui_app for :namespace / :app_name / :ui_app_ver"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_app"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "update"
          doc:
              desc: "update ui_app for :namespace / :app_name / :ui_app_ver"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_app"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete app for :namespace / :app_name / :ui_app_ver (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_app_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver/status"
      api_spec:
          permission: "ui.status"
          syntax:
              verb: "status"
          doc:
              desc: "post ui_app status for :namespace / :app_name / :ui_app_ver"

    ######################################################################
    # ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_deployment_status"
                    type: "left"
                  - obj: "ui_app"
                  - obj: "deployment"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list ui_deployments for :namespace"
    # list by :app_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_deployment_status"
                    type: "left"
                  - obj: "ui_app"
                  - obj: "deployment"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list ui_deployments for :namespace / :app_name"
    # list by :runtime_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/runtime/:runtime_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_deployment_status"
                    type: "left"
                  - obj: "ui_app"
                  - obj: "deployment"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list ui_deployments for :namespace / :runtime_name"
    # list by :app_name and :runtime_name
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/runtime/:runtime_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_deployment_status"
                    type: "left"
                  - obj: "ui_app"
                  - obj: "deployment"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list ui_deployments for :namespace / :app_name / :runtime_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_deployment_status"
                    type: "left"
                  - obj: "ui_app"
                  - obj: "deployment"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get ui_deployment for :namespace / :app_name / :ui_app_ver / :runtime_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert ui_deployment for :namespace / :app_name / :ui_app_ver / :runtime_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "update"
          doc:
              desc: "update ui_deployment for :namespace / :app_name / :ui_app_ver / :runtime_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete ui_deployment for :namespace / :app_name / :ui_app_ver / :runtime_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_deployment_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name/status"
      api_spec:
          permission: "ui.status"
          syntax:
              verb: "status"
          doc:
              desc: "post ui_deployment status for :namespace / :app_name / :ui_app_ver / :runtime_name"

    ######################################################################
    # ui_element
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver/ui_element"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_app"
                  - obj: "namespace"
          doc:
              desc: "list ui_elements for :namespace / :app_name / :ui_app_ver"
    # list by deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name/ui_element"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_element_status"
                    type: "left"
                  - obj: "ui_app"
                  - obj: "ui_deployment"
                  - obj: "deployment"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "list ui_deployment of ui_elements for :namespace / :app_name / :ui_app_ver / :runtime_name"
    # get
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver/ui_element/:element_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_app"
                  - obj: "namespace"
          doc:
              desc: "get obj for :namespace / :app_name / :ui_app_ver / :element_name"
    # get by ui_deployment
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element"
      api_method: "get"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name/ui_element/:element_name"
      api_spec:
          permission: "ui.read"
          syntax:
              verb: "get"
              join:
                  - obj: "ui_element_status"
                    type: "left"
                  - obj: "ui_app"
                  - obj: "ui_deployment"
                  - obj: "deployment"
                  - obj: "runtime"
                  - obj: "app"
                  - obj: "namespace"
          doc:
              desc: "get ui_element for :namespace / :app_name / :ui_app_ver / :runtime_name / :element_name"
    # upsert
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver/ui_element/:element_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "upsert"
          doc:
              desc: "upsert ui_element for :namespace / :app_name / :ui_app_ver / :element_name"
    # update
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element"
      api_method: "put"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver/ui_element/:element_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "update"
          doc:
              desc: "update ui_element for :namespace / :app_name / :ui_app_ver / :element_name"
    # delete
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element"
      api_method: "delete"
      api_endpoint: "/namespace/:namespace/ui_app/:app_name/:ui_app_ver/ui_element/:element_name"
      api_spec:
          permission: "ui.write"
          syntax:
              verb: "delete"
          doc:
              desc: "delete ui_element for :namespace / :app_name / :ui_app_ver / :element_name (logical deletion)"
    # status
    - namespace: "sys"
      app_name: "appx"
      app_ver: "internal"
      obj_name: "ui_element_status"
      api_method: "post"
      api_endpoint: "/namespace/:namespace/ui_deployment/ui_app/:app_name/:ui_app_ver/runtime/:runtime_name/ui_element/:element_name/status"
      api_spec:
          permission: "ui.status"
          syntax:
              verb: "status"
          doc:
              desc: "post ui_element status for :namespace / :app_name / :ui_app_ver / :runtime_name / :element_name"
